{"version":3,"sources":["History.js","App.js","App2.js","index.js"],"names":["History","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","loading","history","getHistory","_this2","axios","get","then","res","setState","data","id","console","log","_this3","_this4","react_default","a","createElement","className","href","class","es","style","font-size","NoDataComponent","Props","noDataText","columns","Header","accessor","Cell","row","Button","onClick","deleteRecord","original","_id","whiteSpace","defaultPageSize","Component","App","value","query","concat","result","getAllNews","catch","error","alert","handleChange","e","search","target","author","title","description","url","urlToImage","publishedAt","content","modal","bind","assertThisInitialized","onClick2","toggle","arguments","length","undefined","trim","response","i","color","type","onChange","react_router_dom","to","height","src","React","App2","react_router","path","exact","component","ReactDOM","render","src_App2","document","getElementById"],"mappings":"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","file":"static/js/main.abe740b0.chunk.js","sourcesContent":["import React,{Component} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport 'react-table/react-table.css';\r\nimport ReactTable from 'react-table';\r\nimport { Button } from 'reactstrap';\r\nimport './history.css';\r\nclass History extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            loading: false,\r\n            history : [],\r\n          };\r\n          this.getHistory()\r\n    };\r\n    \r\n    //all the search history\r\n    getHistory(){ \r\n        axios.get('/getHistory').then(res=>{\r\n            this.setState({history: res.data})\r\n        })\r\n    }\r\n\r\n    //deleteButton function\r\n    async deleteRecord(id){\r\n        console.log(id)\r\n        axios.get('/deleteHistory?id='+id\r\n        ).then(res=>{\r\n            console.log(res.data)\r\n            this.getHistory();\r\n        })\r\n    }\r\n    //table\r\n    render(){\r\n        return(\r\n            <div className=\"container2\">\r\n            <div className=\"colhistory\">\r\n            <a href=\"http://localhost:3000/\" class=\"back\">Back</a>\r\n                <h1>Search History</h1>\r\n             <ReactTable  \r\n              style={{ \"font-size\":\"15px\" }}\r\n              data={this.state.history}\r\n              NoDataComponent={() => \"No Search History Found.\"}\r\n              Props={{noDataText:''}}\r\n              columns={[\r\n                {\r\n                  Header: 'Delete',\r\n                  accessor: 'title',\r\n                  Cell:  row  => (\r\n                    <Button onClick={() => {\r\n                        this.deleteRecord(row.original._id);\r\n                      }}> delete</Button>\r\n                  )\r\n                },\r\n                {\r\n                  Header: 'Search History',\r\n                  accessor: 'search',\r\n                  style: {'whiteSpace':'unset'}\r\n                },\r\n                {\r\n                    Header: 'Search Date',\r\n                    accessor: 'updated',\r\n                    style: {'whiteSpace':'unset'}\r\n                  }\r\n            \r\n              ]}\r\n              defaultPageSize={10}\r\n              className=\"-history\"\r\n              \r\n              \r\n            />\r\n          </div>\r\n        </div>  \r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default History;","import React from 'react';\nimport './App.css';\nimport {Link} from 'react-router-dom'\nimport { Button } from 'reactstrap';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport axios from 'axios';;\n\n//front end data\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      data:[ {\n        \"author\": \"Edward Russell\",\n        \"title\": \"American Airlines reinforces Hilton Head dominance with new routes\",\n        \"description\": \"American Airlines is reinforcing its position at the top of the pack in Hilton Head, South Carolina, with new flights to Chicago, Dallas/Fort Worth and Philadelphia next spring. The Oneworld Alliance carrier will launch the new seasonal service between its th…\",\n        \"url\": \"http://thepointsguy.com/news/american-airlines-reinforces-hilton-head-dominance-with-new-routes/\",\n        \"urlToImage\": \"https://i0.wp.com/thepointsguy.com/wp-content/uploads/2019/10/GettyImages-860629124.jpg?fit=3722%2C2400px&ssl=1\",\n        \"publishedAt\": \"2019-10-21T21:30:29Z\",\n        \"content\": \"American Airlines is reinforcing its position at the top of the pack in Hilton Head, South Carolina, with new flights to Chicago, Dallas/Fort Worth and Philadelphia next spring.\\r\\nThe Oneworld Alliance carrier will launch the new seasonal service between its t… [+1538 chars]\"\n    }],\n      loading: false,\n      modal: false\n    };\n    this.search = this.search.bind(this);\n    this.onClick2 = this.onClick2.bind(this);\n    this.toggle = this.toggle.bind(this);\n  }\n  //called route \n  getAllNews(){\n     axios.get('/getNews?country=my')\n      .then(result => {\n        console.log(this.state.data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  componentDidMount() {\n    this.search();\n  }\n\n  //search front end\n  search(a =null){\n    var query = `/searchNews?q=${this.state.search}`;\n\n    if(this.state.loading === true && this.state.search.trim() != ''){\n      axios.get(query).then(response=>{\n\n        for(let i = 0; i < response.data.length; i++){\n          delete response.data[i]['source']\n        }\n        this.setState({data:response.data})\n      })\n        .catch(error => {\n          console.log('Error: '+ error);\n        });\n    }\n    \n  }\n  async onClick2() {\n      this.state.loading = true;\n      await this.search('1');\n\n  }\n \n  deleteRecord = value => {\n    console.log('to delete: ', value);\n    const query = `/deletemovie?title=${value}`;\n    axios\n      .get(query)\n      .then(result => {\n        this.getAllNews();\n      })\n      .catch(error => {\n        alert('Error: ', error);\n      });\n  };\n  handleChange = (e) =>{ \n    this.setState({search: e.target.value});\n  }\n  \n  toggle(){\n    this.setState({modal: !this.state.modal})\n    console.log(this.state.modal)\n  }\n \n  render() {\n\n    return (\n      <div className=\"App\">\n        <div className=\"jumbotron text-center header\">\n          <h1>Global News</h1>\n          <p>Search for News</p>\n        </div>\n        <div className=\"container search\">\n          <div className=\"col-sm-12\">\n            <p /> \n            <form >\n              <label style={{\"color\":\"white\"}}>Enter news by title or description:</label>\n              <input style={{\"font-size\":\"15px\"}}\n                type=\"text\"\n                className=\"form-control\"\n                value={this.state.search}\n                onChange={this.handleChange}              \n                />\n              <p />\n              <Button color=\"primary\" onClick={this.onClick2} >search</Button>{' '}\n              <Link to=\"/history\"><Button color=\"primary\" onClick={this.toggle}>History</Button></Link>      \n            </form> \n            <p />\n          \n\n          </div>\n          <div>\n\n          </div>\n        </div>\n    \n\n        <div className=\"container\">\n          <div className=\"col-sm-12\">\n            <p />\n            {/* {this.state.data.map(a =>{\n                return \n            })} */}\n            <ReactTable style={{\"font-size\":\"13px\"}}\n              data={this.state.data}\n              columns={[\n            \n                {\n                  Header: 'Title',\n                  accessor: 'title',\n                  style: {'whiteSpace':'unset'}\n                },\n                {\n                  Header: 'Description',\n                  accessor: 'description',\n                  style: { 'whiteSpace': 'unset' }\n                },\n                {\n                  Header: 'Image',\n                  Cell: row => {\n                    return (\n                      <div>\n                        <a href={row.original.url} target=\"_blank\"> \n                        <img height={250} src={row.original.urlToImage} />\n                        </a>\n                      </div>\n                    );\n                  }              \n                  },\n                {\n                  Header: 'Content',\n                  accessor: 'content',\n                  style: { 'whiteSpace': 'unset' }\n                },\n                {\n                  Header: 'Published date',\n                  Cell: row => {\n                    return (\n                      <div>\n                        {/* <img height={250} src={row.original.poster} /> */}\n                          <p style={{\"color\":\"white\"}}>{row.original.publishedAt}</p>\n                      </div>\n                    );\n                  }\n                },\n              ]}\n              defaultPageSize={5}\n              className=\"-striped -highlight\"\n            />\n          </div>\n        </div>\n       \n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","import React from 'react';\r\nimport History from './History';\r\nimport App from './App'\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\n\r\nfunction App2(){\r\n    return(\r\n        <Router>\r\n            <div className=\"App2\">\r\n                <Switch>\r\n                    <Route path=\"/\" exact  component={App}></Route>\r\n                    <Route path=\"/history\" component={History}></Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App2;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App2 from './App2';\n\nReactDOM.render(<App2 />, document.getElementById('root'));"],"sourceRoot":""}