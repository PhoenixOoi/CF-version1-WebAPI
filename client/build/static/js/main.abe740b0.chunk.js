(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(73)},39:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),l=a.n(c),i=(a(39),a(9)),o=a.n(i),s=a(10),h=a(11),u=a(12),d=a(16),m=a(13),p=a(17),g=(a(43),a(8)),f=a.n(g),y=(a(28),a(14)),w=a(74),v=(a(66),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1,history:[]},a.getHistory(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getHistory",value:function(){var e=this;f.a.get("/getHistory").then(function(t){e.setState({history:t.data})})}},{key:"deleteRecord",value:function(){var e=Object(s.a)(o.a.mark(function e(t){var a=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),f.a.get("/deleteHistory?id="+t).then(function(e){console.log(e.data),a.getHistory()});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container2"},r.a.createElement("div",{className:"colhistory"},r.a.createElement("a",{href:"http://localhost:3000/",class:"back"},"Back"),r.a.createElement("h1",null,"Search History"),r.a.createElement(y.a,{style:{"font-size":"15px"},data:this.state.history,NoDataComponent:function(){return"No Search History Found."},Props:{noDataText:""},columns:[{Header:"Delete",accessor:"title",Cell:function(t){return r.a.createElement(w.a,{onClick:function(){e.deleteRecord(t.original._id)}}," delete")}},{Header:"Search History",accessor:"search",style:{whiteSpace:"unset"}},{Header:"Search Date",accessor:"updated",style:{whiteSpace:"unset"}}],defaultPageSize:10,className:"-history"})))}}]),t}(n.Component)),E=a(7),b=(a(68),a(15)),k=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).deleteRecord=function(e){console.log("to delete: ",e);var t="/deletemovie?title=".concat(e);f.a.get(t).then(function(e){a.getAllNews()}).catch(function(e){alert("Error: ",e)})},a.handleChange=function(e){a.setState({search:e.target.value})},a.state={search:"",data:[{author:"Edward Russell",title:"American Airlines reinforces Hilton Head dominance with new routes",description:"American Airlines is reinforcing its position at the top of the pack in Hilton Head, South Carolina, with new flights to Chicago, Dallas/Fort Worth and Philadelphia next spring. The Oneworld Alliance carrier will launch the new seasonal service between its th\u2026",url:"http://thepointsguy.com/news/american-airlines-reinforces-hilton-head-dominance-with-new-routes/",urlToImage:"https://i0.wp.com/thepointsguy.com/wp-content/uploads/2019/10/GettyImages-860629124.jpg?fit=3722%2C2400px&ssl=1",publishedAt:"2019-10-21T21:30:29Z",content:"American Airlines is reinforcing its position at the top of the pack in Hilton Head, South Carolina, with new flights to Chicago, Dallas/Fort Worth and Philadelphia next spring.\r\nThe Oneworld Alliance carrier will launch the new seasonal service between its t\u2026 [+1538 chars]"}],loading:!1,modal:!1},a.search=a.search.bind(Object(E.a)(Object(E.a)(a))),a.onClick2=a.onClick2.bind(Object(E.a)(Object(E.a)(a))),a.toggle=a.toggle.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getAllNews",value:function(){var e=this;f.a.get("/getNews?country=my").then(function(t){console.log(e.state.data)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.search()}},{key:"search",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],"/searchNews?q=".concat(this.state.search));!0===this.state.loading&&""!=this.state.search.trim()&&f.a.get(t).then(function(t){for(var a=0;a<t.data.length;a++)delete t.data[a].source;e.setState({data:t.data})}).catch(function(e){console.log("Error: "+e)})}},{key:"onClick2",value:function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.loading=!0,e.next=3,this.search("1");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggle",value:function(){this.setState({modal:!this.state.modal}),console.log(this.state.modal)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"jumbotron text-center header"},r.a.createElement("h1",null,"Global News"),r.a.createElement("p",null,"Search for News")),r.a.createElement("div",{className:"container search"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("p",null),r.a.createElement("form",null,r.a.createElement("label",{style:{color:"white"}},"Enter news by title or description:"),r.a.createElement("input",{style:{"font-size":"15px"},type:"text",className:"form-control",value:this.state.search,onChange:this.handleChange}),r.a.createElement("p",null),r.a.createElement(w.a,{color:"primary",onClick:this.onClick2},"search")," ",r.a.createElement(b.b,{to:"/history"},r.a.createElement(w.a,{color:"primary",onClick:this.toggle},"History"))),r.a.createElement("p",null)),r.a.createElement("div",null)),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("p",null),r.a.createElement(y.a,{style:{"font-size":"13px"},data:this.state.data,columns:[{Header:"Title",accessor:"title",style:{whiteSpace:"unset"}},{Header:"Description",accessor:"description",style:{whiteSpace:"unset"}},{Header:"Image",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:e.original.url,target:"_blank"},r.a.createElement("img",{height:250,src:e.original.urlToImage})))}},{Header:"Content",accessor:"content",style:{whiteSpace:"unset"}},{Header:"Published date",Cell:function(e){return r.a.createElement("div",null,r.a.createElement("p",{style:{color:"white"}},e.original.publishedAt))}}],defaultPageSize:5,className:"-striped -highlight"}))))}}]),t}(r.a.Component),H=a(5);var C=function(){return r.a.createElement(b.a,null,r.a.createElement("div",{className:"App2"},r.a.createElement(H.c,null,r.a.createElement(H.a,{path:"/",exact:!0,component:k}),r.a.createElement(H.a,{path:"/history",component:v}))))};l.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.abe740b0.chunk.js.map